{
  "name": "Sleetbubble",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",

  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/node:1": {
      "version": "lts"
    }
  },

  "postCreateCommand": "wget -q https://dist.ipfs.tech/kubo/v0.31.0/kubo_v0.31.0_linux-amd64.tar.gz -O /tmp/ipfs.tar.gz && tar -xzf /tmp/ipfs.tar.gz -C /tmp && sudo bash /tmp/kubo/install.sh && rm -rf /tmp/kubo /tmp/ipfs.tar.gz",

  "forwardPorts": [
    5500, 8888, 8080, 5001, 4001
  ],

  "portsAttributes": {
    "5500": { "label": "Control Panel", "onAutoForward": "openBrowser", "visibility": "public" },
    "8888": { "label": "Proxy", "onAutoForward": "notify", "visibility": "public" },
    "8080": { "label": "Gateway", "onAutoForward": "notify", "visibility": "public" },
    "5001": { "label": "IPFS API", "onAutoForward": "silent", "visibility": "public" },
    "4001": { "label": "IPFS Swarm", "onAutoForward": "silent", "visibility": "public" }
    },

  "customizations": {
    "vscode": {
      "extensions": [
        "GitHub.copilot",
        "GitHub.vscode-pull-request-github",
        "GitHub.github-vscode-theme",
        "ms-vscode.vscode-websearchforcopilot",
        "vittee.liquidsoap",
        "naumovs.color-highlight",
        "IBM.output-colorizer",
        "MarkosTh09.color-picker",
        "docker.docker",
        "ms-azuretools.vscode-docker",
        "formulahendry.docker-explorer",
        "streetsidesoftware.code-spell-checker"
      ],
      "settings": {
        "workbench.colorTheme": "GitHub Dark",
        "github.copilot.enableWebSearch": true,

        "mcp": {
          "servers": {
            "deepwiki": {
              "type": "sse",
              "url": "https://mcp.deepwiki.com/sse"
            },

            "playwright": {
              "command": "npx",
              "args": [ "-y", "@playwright/mcp", "--browser", "chromium" ]
            }
          }
        }
      }
    }
  }
}